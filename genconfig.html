<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-12-21 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20141221" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Soabase &#x2013; </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/randgalt/soabase">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Soabase</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-12-21
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.1.0-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Soabase</li>
                              
      <li>
  
                          <a href="index.html" title="About">
          <i class="none"></i>
        About</a>
            </li>
                
      <li>
  
                          <a href="usage.html" title="Usage">
          <i class="none"></i>
        Usage</a>
            </li>
                
      <li>
  
                          <a href="example.html" title="Example">
          <i class="none"></i>
        Example</a>
            </li>
                              <li class="nav-header">Features</li>
                              
      <li>
  
                          <a href="discovery.html" title="Service Discovery">
          <i class="none"></i>
        Service Discovery</a>
            </li>
                
      <li>
  
                          <a href="client.html" title="REST Client">
          <i class="none"></i>
        REST Client</a>
            </li>
                
      <li>
  
                          <a href="attributes.html" title="Dynamic Attributes">
          <i class="none"></i>
        Dynamic Attributes</a>
            </li>
                
      <li>
  
                          <a href="admin.html" title="Administration">
          <i class="none"></i>
        Administration</a>
            </li>
                
      <li>
  
                          <a href="config.html" title="Configuration">
          <i class="none"></i>
        Configuration</a>
            </li>
                              <li class="nav-header">Details</li>
                              
      <li>
  
                          <a href="source-repository.html" title="Source Code">
          <i class="none"></i>
        Source Code</a>
            </li>
                
      <li>
  
                          <a href="issue-tracking.html" title="Issues">
          <i class="none"></i>
        Issues</a>
            </li>
                
      <li>
  
                          <a href="apidocs/index.html" title="JavaDoc">
          <i class="none"></i>
        JavaDoc</a>
            </li>
                
      <li>
  
                          <a href="team-list.html" title="Team">
          <i class="none"></i>
        Team</a>
            </li>
                              <li class="nav-header">Reports</li>
                              
      <li>
  
                          <a href="project-summary.html" title="Summary">
          <i class="none"></i>
        Summary</a>
            </li>
                
      <li>
  
                          <a href="dependency-management.html" title="Dependencies">
          <i class="none"></i>
        Dependencies</a>
            </li>
                
      <li>
  
                          <a href="license.html" title="License">
          <i class="none"></i>
        License</a>
            </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                   
        
        
        
    <iframe src="http://www.facebook.com/plugins/like.php?href=https://github.com/randgalt/soabase&send=false&layout=box_count&show-faces=false&action=like&colorscheme=light"
        scrolling="no" frameborder="0"
        style="border:none; width:48px; height:63px; margin-top: 10px;" ></iframe>
               <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2><a name="Generated_Composed_Configuration"></a>Generated Composed Configuration</h2>
<p>Dropwizard makes heavy use of the Configuration object. Unfortunately, its design makes writing configured Bundles difficult. Bundle writers need access to their custom configuration but can't impose a bundle-specific Configuration class. A common idiom is to create accessor interfaces that users of the bundle need to implement. This is cumbersome and clumsy.</p>
<p>Soabase's ComposedConfiguration provides an alternative whereby a custom Configuration class is generated at runtime. This custom class contains fields for any configuration needed by bundles, etc. Bundles can use Java's ServiceLoader mechanism to automatically add needed custom configuration to the ComposedConfiguration instance. All of Soabases bundles are pre-configured.</p>
<div class="section">
<h3><a name="Application_Usage"></a>Application Usage</h3>
<p>To use ComposedConfiguration in your application (note: this is required by Soabase's Bundles), your application's configuration class must extend <tt>ComposedConfiguration</tt> instead of Dropwizard's Configuration. Note: if your application doesn't need custom configuration values, you can use <tt>ComposedConfiguration</tt> directly. Then, in the initialize() method of your application, set the ConfigurationFactoryFactory. E.g.</p>
<div class="source">
<pre>public class MyConfiguration extends ComposedConfiguration {
    ...
}

public class MyApplication extends Application&lt;MyConfiguration&gt; {
    public void initialize(Bootstrap&lt;MyConfiguration&gt; bootstrap) {
            ...
        bootstrap.setConfigurationFactoryFactory(FromServices.standardFactory());
    }
}</pre></div>
<p><tt>FromServices.standardFactory()</tt> uses Java's ServiceLoader utility to load any custom configurations. You can then access the custom configurations via the <tt>as()</tt> method. For example, you can get the <tt>SoaConfiguration</tt> instance like this:</p>
<div class="source">
<pre>public void run(MyConfiguration configuration, Environment environment) throws Exception {
        ...
    SoaConfiguration soaConfiguration = configuration.as(SoaConfiguration.class);
}</pre></div></div>
<div class="section">
<h3><a name="Writing_a_Custom_Configuration"></a>Writing a Custom Configuration</h3>
<p>If you'd like to add your own custom configuration, follow these steps:</p>
<ul>
<li>Create your custom configuration class. It doesn't need to have any particular base class. However, it must have a no-arg constructor.</li>
<li>Create a class that implements <tt>ComposedConfigurationServiceFactory</tt>. This instance is responsible for registering the custom configuration. E.g.
<div class="source">
<pre>public class MyFactory implements ComposedConfigurationServiceFactory {
    public void addToBuilder(ComposedConfigurationBuilder&lt;?&gt; builder) {
        builder.add(&quot;myConfig&quot;, MyConfig.class);
    }
}</pre></div></li>
<li>Create a ServiceLoader provider-configuration file
<ul>
<li>The file must be in the directory: <tt>META-INF/services</tt></li>
<li>The name of the file must be: <tt>io.soabase.config.service.ComposedConfigurationServiceFactory</tt></li>
<li>The file should have the fully qualified path name of your ComposedConfigurationServiceFactory. Note: you can have multiple ComposedConfigurationServiceFactory instances. List each one on a separate line.<hr /></li></ul>
<p>Your Dropwizard config file can now reference this custom configuration. E.g.</p>
<div class="source">
<pre>{
    &quot;myConfig&quot;: {
        &quot;myField&quot;: 10
    }
}</pre></div></li></ul></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2014
                        <a href="http://soabase.github.io/">Soabase</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
